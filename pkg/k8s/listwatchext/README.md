# 介绍

这个包是对 listwatch 的一个补充让它更加适应我们的场景.

1. 初始化是时进行一次全量list, 然后同步到服务端
2. 然后开始监听增量, 并进行适当合并(比如key相同的只保留最后一条元数据), 然后**批量**同步到服务端
3. 一旦同步到服务端发生不可知错误, 需要重新开始listwatch, 这样才能保证元数据是不丢失的
 
直接使用k8s的cache包可以做到类似的效果, 但缺点是我们拦截不到第一次的全量list的结果. 它的第一次全量list对我们来说只是n次add.  
而我们会使用全量list的结果来做全量数据同步, 包含删除已经不存在的pod.  
